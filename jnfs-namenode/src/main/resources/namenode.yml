# --- NameNode 服务配置 ---
server:
  # RPC 服务监听端口 (默认: 5368)
  port: 5368
  # 对外广播的 IP 地址 (默认: 自动获取本机局域网 IP)
  # 在多网卡环境或云服务器上，建议手动指定公网/内网 IP
  advertised_host: 127.0.0.1

# --- 注册中心连接配置 ---
# NameNode 启动时会将自己注册到此地址，供客户端发现
registry:
  # 方式 1: 单点配置 (兼容旧版)
  # host: localhost
  # port: 5367

  # 方式 2: 集群配置 (推荐)
  # 支持逗号分隔的字符串或列表格式
  addresses: localhost:5367

# --- 元数据存储配置 ---
metadata:
  # 存储模式:
  # - file: 本地文件存储 (适合单机测试，性能较高但无法持久化太大量级)
  # - mysql: 数据库存储 (适合生产环境，支持大数据量和事务)
  mode: mysql

  # MySQL 连接配置 (当 mode: mysql 时生效)
  mysql:
    host: 100.10.11.204
    port: 3306
    database: jnfs
    user: jnfs
    password: jnfs@123

  # 元数据缓存配置 (可选)
  cache:
    # 是否开启内存缓存 (默认: true)
    enabled: true
    # 缓存最大条目数 (默认: 100000)
    # 根据 JVM 内存大小调整: 10w 条约占用 100MB 堆内存
    max-size: 100000
    # 写入策略: sync (同步持久化), async (异步持久化 - 暂未实现)
    write-policy: sync
